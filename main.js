(()=>{"use strict";var r={682:r=>{r.exports=Object.freeze({rules:{"accessor-pairs":"error","array-callback-return":"error","arrow-body-style":"error","block-scoped-var":"error",camelcase:"error","capitalized-comments":"error","class-methods-use-this":"error",complexity:"error","consistent-return":"error","consistent-this":"error","constructor-super":"error",curly:"error","default-case":"error","default-case-last":"error","default-param-last":"error","dot-notation":"error",eqeqeq:"error","for-direction":"error","func-name-matching":"error","func-names":"error","func-style":"error","getter-return":"error","grouped-accessor-pairs":"error","guard-for-in":"error","id-denylist":"error","id-length":"error","id-match":"error","init-declarations":"error","logical-assignment-operators":"error","max-classes-per-file":"error","max-depth":"error","max-lines":"error","max-lines-per-function":"error","max-nested-callbacks":"error","max-params":"error","max-statements":"error","new-cap":"error","no-alert":"error","no-array-constructor":"error","no-async-promise-executor":"error","no-await-in-loop":"error","no-bitwise":"error","no-caller":"error","no-case-declarations":"error","no-class-assign":"error","no-compare-neg-zero":"error","no-cond-assign":"error","no-console":"error","no-const-assign":"error","no-constant-binary-expression":"error","no-constant-condition":"error","no-constructor-return":"error","no-continue":"error","no-control-regex":"error","no-debugger":"error","no-delete-var":"error","no-div-regex":"error","no-dupe-args":"error","no-dupe-class-members":"error","no-dupe-else-if":"error","no-dupe-keys":"error","no-duplicate-case":"error","no-duplicate-imports":"error","no-else-return":"error","no-empty":"error","no-empty-character-class":"error","no-empty-function":"error","no-empty-pattern":"error","no-empty-static-block":"error","no-eq-null":"error","no-eval":"error","no-ex-assign":"error","no-extend-native":"error","no-extra-bind":"error","no-extra-boolean-cast":"error","no-extra-label":"error","no-fallthrough":"error","no-func-assign":"error","no-global-assign":"error","no-implicit-coercion":"error","no-implicit-globals":"error","no-implied-eval":"error","no-import-assign":"error","no-inline-comments":"error","no-inner-declarations":"error","no-invalid-regexp":"error","no-invalid-this":"error","no-irregular-whitespace":"error","no-iterator":"error","no-label-var":"error","no-labels":"error","no-lone-blocks":"error","no-lonely-if":"error","no-loop-func":"error","no-loss-of-precision":"error","no-magic-numbers":"error","no-misleading-character-class":"error","no-multi-assign":"error","no-multi-str":"error","no-negated-condition":"error","no-nested-ternary":"error","no-new":"error","no-new-func":"error","no-new-native-nonconstructor":"error","no-new-wrappers":"error","no-nonoctal-decimal-escape":"error","no-obj-calls":"error","no-object-constructor":"error","no-octal":"error","no-octal-escape":"error","no-param-reassign":"error","no-plusplus":"error","no-promise-executor-return":"error","no-proto":"error","no-prototype-builtins":"error","no-redeclare":"error","no-regex-spaces":"error","no-restricted-exports":"error","no-restricted-globals":"error","no-restricted-imports":"error","no-restricted-properties":"error","no-restricted-syntax":"error","no-return-assign":"error","no-script-url":"error","no-self-assign":"error","no-self-compare":"error","no-sequences":"error","no-setter-return":"error","no-shadow":"error","no-shadow-restricted-names":"error","no-sparse-arrays":"error","no-template-curly-in-string":"error","no-ternary":"error","no-this-before-super":"error","no-throw-literal":"error","no-undef":"error","no-undef-init":"error","no-undefined":"error","no-underscore-dangle":"error","no-unexpected-multiline":"error","no-unmodified-loop-condition":"error","no-unneeded-ternary":"error","no-unreachable":"error","no-unreachable-loop":"error","no-unsafe-finally":"error","no-unsafe-negation":"error","no-unsafe-optional-chaining":"error","no-unused-expressions":"error","no-unused-labels":"error","no-unused-private-class-members":"error","no-unused-vars":"error","no-use-before-define":"error","no-useless-assignment":"error","no-useless-backreference":"error","no-useless-call":"error","no-useless-catch":"error","no-useless-computed-key":"error","no-useless-concat":"error","no-useless-constructor":"error","no-useless-escape":"error","no-useless-rename":"error","no-useless-return":"error","no-var":"error","no-void":"error","no-warning-comments":"error","no-with":"error","object-shorthand":"error","one-var":"error","operator-assignment":"error","prefer-arrow-callback":"error","prefer-const":"error","prefer-destructuring":"error","prefer-exponentiation-operator":"error","prefer-named-capture-group":"error","prefer-numeric-literals":"error","prefer-object-has-own":"error","prefer-object-spread":"error","prefer-promise-reject-errors":"error","prefer-regex-literals":"error","prefer-rest-params":"error","prefer-spread":"error","prefer-template":"error",radix:"error","require-atomic-updates":"error","require-await":"error","require-unicode-regexp":"error","require-yield":"error","sort-imports":"error","sort-keys":"error","sort-vars":"error",strict:"error","symbol-description":"error","unicode-bom":"error","use-isnan":"error","valid-typeof":"error","vars-on-top":"error",yoda:"error"}})},722:r=>{r.exports=Object.freeze({rules:Object.freeze({"constructor-super":"error","for-direction":"error","getter-return":"error","no-async-promise-executor":"error","no-case-declarations":"error","no-class-assign":"error","no-compare-neg-zero":"error","no-cond-assign":"error","no-const-assign":"error","no-constant-binary-expression":"error","no-constant-condition":"error","no-control-regex":"error","no-debugger":"error","no-delete-var":"error","no-dupe-args":"error","no-dupe-class-members":"error","no-dupe-else-if":"error","no-dupe-keys":"error","no-duplicate-case":"error","no-empty":"error","no-empty-character-class":"error","no-empty-pattern":"error","no-empty-static-block":"error","no-ex-assign":"error","no-extra-boolean-cast":"error","no-fallthrough":"error","no-func-assign":"error","no-global-assign":"error","no-import-assign":"error","no-invalid-regexp":"error","no-irregular-whitespace":"error","no-loss-of-precision":"error","no-misleading-character-class":"error","no-new-native-nonconstructor":"error","no-nonoctal-decimal-escape":"error","no-obj-calls":"error","no-octal":"error","no-prototype-builtins":"error","no-redeclare":"error","no-regex-spaces":"error","no-self-assign":"error","no-setter-return":"error","no-shadow-restricted-names":"error","no-sparse-arrays":"error","no-this-before-super":"error","no-undef":"error","no-unexpected-multiline":"error","no-unreachable":"error","no-unsafe-finally":"error","no-unsafe-negation":"error","no-unsafe-optional-chaining":"error","no-unused-labels":"error","no-unused-private-class-members":"error","no-unused-vars":"error","no-useless-backreference":"error","no-useless-catch":"error","no-useless-escape":"error","no-with":"error","require-yield":"error","use-isnan":"error","valid-typeof":"error"})})},597:(r,e,n)=>{const{name:o,version:t}=n(687);r.exports={meta:{name:o,version:t},configs:{all:n(682),recommended:n(722)}}},208:(r,e,n)=>{n.d(e,{A:()=>i});var o=n(601),t=n.n(o),s=n(314),a=n.n(s)()(t());a.push([r.id,'/*\n  Josh\'s Custom CSS Reset\n  https://www.joshwcomeau.com/css/custom-css-reset/\n*/\n\n*,\n*::before,\n*::after {\n  box-sizing: border-box;\n}\n\n* {\n  margin: 0;\n}\n\n@media (prefers-reduced-motion: no-preference) {\n  html {\n    interpolate-size: allow-keywords;\n  }\n}\n\nbody {\n  line-height: 1.5;\n  -webkit-font-smoothing: antialiased;\n}\n\nimg,\npicture,\nvideo,\ncanvas,\nsvg {\n  display: block;\n  max-width: 100%;\n}\n\ninput,\nbutton,\ntextarea,\nselect {\n  font: inherit;\n}\n\np,\nh1,\nh2,\nh3,\nh4,\nh5,\nh6 {\n  overflow-wrap: break-word;\n}\n\np {\n  text-wrap: pretty;\n}\nh1,\nh2,\nh3,\nh4,\nh5,\nh6 {\n  text-wrap: balance;\n}\n\n#root,\n#__next {\n  isolation: isolate;\n}\n\n:root {\n  font-family: system-ui, sans-serif;\n  font-weight: normal;\n  color: var(--color-5);\n\n  --color-1: #2b3d50;\n  --color-2: #354a5f;\n  --color-3: #5d6d7e;\n  --color-4: #b3b9b1;\n  --color-5: #edf1f2;\n  --highlight: #f34235;\n}\n\nbody {\n  height: 100vh;\n  background: var(--color-1);\n  background: radial-gradient(circle, var(--color-1) 0%, var(--color-2) 100%);\n  background-repeat: no-repeat;\n}\n\nheader {\n  width: 100vw;\n  height: 10vh;\n  display: flex;\n  align-items: center;\n  padding: 1rem;\n}\n\n.logo-name {\n  display: flex;\n  margin-right: auto;\n  gap: 0.5rem;\n  color: var(--color-5);\n}\n\n.nav-btns {\n  display: flex;\n  gap: 1rem;\n  font-size: 1.5rem;\n\n  div {\n    padding: 0.75rem 1rem;\n    border-radius: 1rem;\n    cursor: pointer;\n    transition: all ease-in-out 200ms;\n  }\n\n  div:hover {\n    background-color: var(--color-3);\n  }\n}\n\n.main {\n  padding-top: 1rem;\n  display: flex;\n  justify-content: center;\n  gap: 1rem;\n  align-items: flex-start;\n}\n\n.game-btns {\n  flex: none;\n  width: 10vw;\n  display: flex;\n  flex-direction: column;\n  justify-content: start;\n  align-items: center;\n  gap: 1rem;\n\n  div {\n    background: var(--highlight);\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    text-align: center;\n    padding: 0.75rem 1rem;\n    font-weight: 600;\n    border-radius: 1rem;\n    filter: saturate(0.8);\n    width: 100%;\n    cursor: pointer;\n  }\n}\n\n.game {\n  height: 80vh;\n  display: flex;\n  justify-content: center;\n  gap: 1rem;\n}\n\n.grid {\n  height: min(90%, 600px);\n  aspect-ratio: 1 / 1;\n  gap: 2px;\n  display: grid;\n  grid-template-columns: repeat(10, 1fr);\n}\n\n.square {\n  background: var(--color-3);\n  border-radius: 6px;\n  transition: all ease-in-out 100ms;\n  position: relative;\n}\n\n.square.enemy {\n  cursor: pointer;\n}\n\n.square.enemy:hover {\n  transform: scale(1.2);\n  z-index: 2;\n  filter: brightness(1.2);\n}\n\n.attacked {\n  background: var(--highlight);\n  filter: saturate(0.8);\n  transform: scale(1.2);\n  z-index: 2;\n}\n\n.ship {\n  background: var(--color-4);\n}\n\n.square::before {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 1.5rem;\n}\n\n.hit::before {\n  content: "⭕";\n}\n\n.miss::before {\n  content: "❌";\n}\n\n.fire::before {\n  content: "🔥";\n}\n\n#player-switch {\n  position: fixed;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n\n  height: 25%;\n  width: 25%;\n  text-align: center;\n  background: none;\n  border-radius: 1rem;\n  border: none;\n\n  h1 {\n    color: var(--color-5);\n    font-size: 2rem;\n    margin-bottom: 1rem;\n  }\n\n  button {\n    font-size: 2rem;\n    background-color: var(--highlight);\n    filter: saturate(0.8);\n    color: var(--color-1);\n    border: none;\n    border-radius: 1rem;\n    padding: 1rem;\n    outline: none;\n    font-weight: 600;\n    cursor: pointer;\n  }\n}\n\n#player-switch::backdrop {\n  height: 100vh;\n  background: var(--color-1);\n  background: radial-gradient(circle, var(--color-1) 0%, var(--color-2) 100%);\n  background-repeat: no-repeat;\n}\n\n#switch {\n  display: flex;\n  gap: 0.5rem;\n  font-size: 1.25rem;\n  align-items: center;\n  justify-content: center;\n}\n\n#game-over {\n  position: absolute;\n  margin: auto;\n  border: none;\n  background: none;\n  outline: none;\n  text-align: center;\n  color: var(--color-5);\n\n  h1 {\n    font-size: 3rem;\n  }\n\n  p {\n    font-size: 2rem;\n  }\n\n  button {\n    margin-top: 1rem;\n    background: var(--highlight);\n    font-size: 2rem;\n    padding: 0.5rem 1rem;\n    font-weight: 600;\n    color: var(--color-5);\n    border: none;\n    border-radius: 0.5rem;\n    filter: saturate(0.8);\n    cursor: pointer;\n  }\n}\n\n#game-over::backdrop {\n  height: 100vh;\n  background: var(--color-1);\n}\n\nfooter {\n  position: absolute;\n  width: 100%;\n  bottom: 0;\n  text-align: center;\n  padding: 0.5rem;\n  font-size: 0.75rem;\n}\n',""]);const i=a},314:r=>{r.exports=function(r){var e=[];return e.toString=function(){return this.map((function(e){var n="",o=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),o&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=r(e),o&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(r,n,o,t,s){"string"==typeof r&&(r=[[null,r,void 0]]);var a={};if(o)for(var i=0;i<this.length;i++){var c=this[i][0];null!=c&&(a[c]=!0)}for(var l=0;l<r.length;l++){var d=[].concat(r[l]);o&&a[d[0]]||(void 0!==s&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=s),n&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=n):d[2]=n),t&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=t):d[4]="".concat(t)),e.push(d))}},e}},601:r=>{r.exports=function(r){return r[1]}},72:r=>{var e=[];function n(r){for(var n=-1,o=0;o<e.length;o++)if(e[o].identifier===r){n=o;break}return n}function o(r,o){for(var s={},a=[],i=0;i<r.length;i++){var c=r[i],l=o.base?c[0]+o.base:c[0],d=s[l]||0,u="".concat(l," ").concat(d);s[l]=d+1;var p=n(u),h={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==p)e[p].references++,e[p].updater(h);else{var m=t(h,o);o.byIndex=i,e.splice(i,0,{identifier:u,updater:m,references:1})}a.push(u)}return a}function t(r,e){var n=e.domAPI(e);return n.update(r),function(e){if(e){if(e.css===r.css&&e.media===r.media&&e.sourceMap===r.sourceMap&&e.supports===r.supports&&e.layer===r.layer)return;n.update(r=e)}else n.remove()}}r.exports=function(r,t){var s=o(r=r||[],t=t||{});return function(r){r=r||[];for(var a=0;a<s.length;a++){var i=n(s[a]);e[i].references--}for(var c=o(r,t),l=0;l<s.length;l++){var d=n(s[l]);0===e[d].references&&(e[d].updater(),e.splice(d,1))}s=c}}},659:r=>{var e={};r.exports=function(r,n){var o=function(r){if(void 0===e[r]){var n=document.querySelector(r);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(r){n=null}e[r]=n}return e[r]}(r);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(n)}},540:r=>{r.exports=function(r){var e=document.createElement("style");return r.setAttributes(e,r.attributes),r.insert(e,r.options),e}},56:(r,e,n)=>{r.exports=function(r){var e=n.nc;e&&r.setAttribute("nonce",e)}},825:r=>{r.exports=function(r){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=r.insertStyleElement(r);return{update:function(n){!function(r,e,n){var o="";n.supports&&(o+="@supports (".concat(n.supports,") {")),n.media&&(o+="@media ".concat(n.media," {"));var t=void 0!==n.layer;t&&(o+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),o+=n.css,t&&(o+="}"),n.media&&(o+="}"),n.supports&&(o+="}");var s=n.sourceMap;s&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),e.styleTagTransform(o,r,e.options)}(e,r,n)},remove:function(){!function(r){if(null===r.parentNode)return!1;r.parentNode.removeChild(r)}(e)}}}},113:r=>{r.exports=function(r,e){if(e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}},687:r=>{r.exports=JSON.parse('{"name":"@eslint/js","version":"9.21.0","description":"ESLint JavaScript language implementation","main":"./src/index.js","types":"./types/index.d.ts","scripts":{"test:types":"tsc -p tests/types/tsconfig.json"},"files":["LICENSE","README.md","src","types"],"publishConfig":{"access":"public"},"repository":{"type":"git","url":"https://github.com/eslint/eslint.git","directory":"packages/js"},"homepage":"https://eslint.org","bugs":"https://github.com/eslint/eslint/issues/","keywords":["javascript","eslint-plugin","eslint"],"license":"MIT","engines":{"node":"^18.18.0 || ^20.9.0 || >=21.1.0"}}')}},e={};function n(o){var t=e[o];if(void 0!==t)return t.exports;var s=e[o]={id:o,exports:{}};return r[o](s,s.exports,n),s.exports}n.n=r=>{var e=r&&r.__esModule?()=>r.default:()=>r;return n.d(e,{a:e}),e},n.d=(r,e)=>{for(var o in e)n.o(e,o)&&!n.o(r,o)&&Object.defineProperty(r,o,{enumerable:!0,get:e[o]})},n.o=(r,e)=>Object.prototype.hasOwnProperty.call(r,e),n.nc=void 0;var o=n(72),t=n.n(o),s=n(825),a=n.n(s),i=n(659),c=n.n(i),l=n(56),d=n.n(l),u=n(540),p=n.n(u),h=n(113),m=n.n(h),g=n(208),f={};f.styleTagTransform=m(),f.setAttributes=d(),f.insert=c().bind(null,"head"),f.domAPI=a(),f.insertStyleElement=p(),t()(g.A,f),g.A&&g.A.locals&&g.A.locals;class y{constructor(r,e,n){this.player1=r,this.player2=e,this.handleTurn=n}playerSwitch(){document.getElementById("player-switch").showModal()}generateGrids(r,e){const n=document.querySelector(".my"),o=document.querySelector(".enemy");for(;n.firstChild||o.firstChild;)n.removeChild(n.firstChild),o.removeChild(o.firstChild);this.generateMyGrid(r),this.generateEnemyGrid(e)}generateMyGrid(r){const e=document.querySelector(".my");for(let n=0;n<r.length;n++){const o=r[n];for(let r=0;r<o.length;r++){const t=o[r],s=document.createElement("div");s.classList.add("square"),e.appendChild(s),s.id=JSON.stringify({x:r,y:n}),t.contains&&s.classList.add("ship"),t.hit&&t.contains?s.classList.add("fire"):t.hit&&s.classList.add("miss")}}}generateEnemyGrid(r){const e=document.querySelector(".enemy");for(let n=0;n<r.length;n++){const o=r[n];for(let r=0;r<o.length;r++){const t=o[r],s=document.createElement("div");s.classList.add("square","enemy"),e.appendChild(s),s.id=JSON.stringify({x:r,y:n}),t.hit&&!t.contains?s.classList.add("miss"):t.hit&&t.contains&&s.classList.add("hit"),s.addEventListener("click",function(r){const e=JSON.parse(r.target.id);this.handleTurn(e,s)}.bind(this))}}}gameOver(){document.querySelector("#game-over").showModal()}updatePlayers(r,e){this.player1=r,this.player2=e}}class b{constructor(r,e,n){this.button1p=document.getElementById("1p"),this.button2p=document.getElementById("2p"),this.switchPlayer=document.getElementById("switch"),this.boardHandler=r,this.bindStarts(),this.bindSwitchPlayer(),this.bindGameOverDialog(),this.startGame=e,this.switchPlayersFn=n}bindStarts(){this.button1p.addEventListener("click",(()=>this.startGame(!0))),this.button2p.addEventListener("click",(()=>this.startGame(!1)))}bindSwitchPlayer(){this.switchPlayer.addEventListener("click",(()=>{this.switchPlayersFn()}))}bindGameOverDialog(){const r=document.querySelector("#game-over-btn"),e=document.querySelector("#game-over");r.addEventListener("click",(()=>{e.close(),this.startGame(!1)}))}}n(597);class v{constructor(r){this.length=r,this.hitCount=0,this.sunk=!1}hit(){this.hitCount++,this.isSunk()}isSunk(){return this.hitCount>=this.length&&(this.sunk=!0),this.sunk}}class x{constructor(){this.contains=null,this.hit=!1}}class w{constructor(){this.grid=this.generateGrid(10,10),this.height=10,this.width=10}allShipsSunk(){return this.grid.flat().every((r=>!r.contains||r.contains.sunk))}recieveAttack(r){const e=r.y,n=r.x;return!0===this.grid[e][n].hit?"already hit":null!==this.grid[e][n].contains?(this.grid[e][n].contains.hit(),this.grid[e][n].hit=!0,this.allShipsSunk()?"all ships sunk":"hit"):(this.grid[e][n].hit=!0,"miss")}placeShip(r,e){if(!this.validateCoordinates(r,e))return!1;const n=r.y===e.y,o=r.x===e.x;if(!n&&!o)throw new Error("invalid ship placement");const t=[],s=n?Math.abs(e.x-r.x)+1:Math.abs(e.y-r.y)+1,a=new v(s);if(n)for(let n=r.x;n<=e.x;n++)t.push(this.grid[r.y][n]);else for(let n=r.y;n<=e.y;n++)t.push(this.grid[n][r.x]);return!!t.every((r=>!r.contains))&&(t.forEach((r=>r.contains=a)),!0)}validateCoordinates(...r){const e=[],n=[];for(let o=0;o<r.length;o++){const t=r[o];e.push(t.x),n.push(t.y)}return e.every((r=>r<this.grid[0].length&&r>=0))&&n.every((r=>r<this.grid.length&&r>=0))}generateGrid(r,e){const n=[];for(let o=0;o<r;o++){const r=[];for(let n=0;n<e;n++)r.push(new x);n.push(r)}return n}}class k{constructor(r){this.name=r,this.gameboard=new w,this.isCurrentPlayer=!1}randomizePlacement(){const r=e=>{const n={x:Math.floor(10*Math.random()),y:Math.floor(10*Math.random())},o=Math.random()>.5?{x:n.x+e-1,y:n.y}:{x:n.x,y:n.y+e-1};this.gameboard.placeShip(n,o)||r(e)};r(1),r(1),r(2),r(2),r(3),r(4),r(5)}}class S extends k{constructor(){super(),this.hits=[]}makeMove(){const r=[];for(let e=0;e<10;e++)for(let n=0;n<10;n++)this.gameboard.grid[e][n].hit||r.push({x:n,y:e});if(r.length>0)return r[Math.floor(Math.random()*r.length)];throw new Error("No valid moves left!")}}(new class{constructor(){this.player1=new k,this.player2=new k,this.boardHandler=new y(this.player1,this.player2,this.handleTurn.bind(this)),this.buttonsHandler=new b(this.boardHandler,this.startGame.bind(this),this.switchPlayers.bind(this)),this.attackInProgress=!1}startGame(r){this.player1=new k,this.player2=r?new S:new k,this.boardHandler.updatePlayers(this.player1,this.player2,this),this.player1.randomizePlacement(),this.player1.isCurrentPlayer=!0,this.player2.randomizePlacement(),this.boardHandler.generateGrids(this.player1.gameboard.grid,this.player2.gameboard.grid)}async switchPlayers(){if(this.attackInProgress){if(this.player1.isCurrentPlayer=!this.player1.isCurrentPlayer,this.player2.isCurrentPlayer=!this.player2.isCurrentPlayer,this.attackInProgress=!1,!this.player1.isCurrentPlayer&&this.player2 instanceof S)return await this.cpuTurn(),this.player1.isCurrentPlayer=!0,this.player2.isCurrentPlayer=!1,this.boardHandler.generateGrids(this.player1.gameboard.grid,this.player2.gameboard.grid),void this.boardHandler.playerSwitch();this.boardHandler.generateGrids(this.player1.isCurrentPlayer?this.player1.gameboard.grid:this.player2.gameboard.grid,this.player1.isCurrentPlayer?this.player2.gameboard.grid:this.player1.gameboard.grid),this.boardHandler.playerSwitch()}}handleTurn(r,e){if(this.attackInProgress)return;const n=(this.player1.isCurrentPlayer?this.player2:this.player1).gameboard.recieveAttack(r);"hit"===n&&e.classList.add("attacked"),"miss"===n&&(this.attackInProgress=!0,e.classList.add("miss")),"all ships sunk"===n&&this.boardHandler.gameOver()}async cpuTurn(){const r=r=>new Promise((e=>setTimeout(e,r)));for(;;){await r(300);const e=this.player2.makeMove(),n=this.player1.gameboard.recieveAttack(e),o=document.getElementById(JSON.stringify(e));if("hit"===n&&o&&o.classList.add("attacked"),"miss"===n&&o){o.classList.add("miss");break}if("all ships sunk"===n)return void this.boardHandler.gameOver()}}}).startGame()})();